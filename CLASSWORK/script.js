// ========================================================================================================
// –£—Ä–æ–∫ –æ—Ç 14 –º–∞—Ä—Ç–∞ 2025. –†–∞–±–æ—Ç–∞ –≤ –∫–ª–∞—Å—Å–µ - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞.
// ========================================================================================================

// ========================================================================================================
// –ö—É—Ä—Å: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ JavaScript.
// ========================================================================================================

// ========================================================================================================
// –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞: –û—Å–Ω–æ–≤—ã  JavaScript.
// ========================================================================================================

// ========================================================================================================
// –ó–∞–Ω—è—Ç–∏–µ ‚Ññ20: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ö—É–∫–∏. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
// ========================================================================================================

// ========================================================================================================
// –†–µ—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
// --------------------------------------------------------------------------------------------------------
// 1. –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã –≤ Cookie. –ò –≤—ã–≤–æ–¥–∏—Ç –∏—Ö –Ω–∞ —ç–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è. 
//    –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Cookie –Ω–µ—Ç, —Ç–æ –≤—ã–≤–æ–¥–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –≥–æ—Å—Ç—é. 
//    –°–ª–µ–≤–∞ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞ —Å 3 –ø–æ–ª—è–º–∏. (–ò–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –≤–æ–∑—Ä–∞—Å—Ç). –°–ø—Ä–∞–≤–∞ –º–µ—Å—Ç–æ, –≥–¥–µ –Ω—É–∂–Ω–æ –∏—Ö –≤—ã–≤–µ—Å—Ç–∏.
// --------------------------------------------------------------------------------------------------------
// 2. –ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—à–ª—É—é —Ñ—É–Ω–∫—Ü–∏—é. 
//    –ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ LocalStorage. –ï—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –≤—Ö–æ–¥–∞. –ò –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞. 
//    –ï—Å–ª–∏ –º—ã –∑–∞–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –∏–Ω–∞—á–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å.
// --------------------------------------------------------------------------------------------------------
// 3. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. 
//    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞, —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–µ (–∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤ –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π). 
//    –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. 
//    –ó–∞—Ç–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ç–µ–∫—Å—Ç–∞.
// ========================================================================================================










// ====== –î–ê–ù–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (COOKIE) ======

function saveUserData() {
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã –∏ —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º —Å –ø–æ–º–æ—â—å—é trim()
    const name = document.getElementById('name').value.trim();
    const phone = document.getElementById('phone').value.trim() || '–Ω–µ —É–∫–∞–∑–∞–Ω'; // –ï—Å–ª–∏ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º "–Ω–µ —É–∫–∞–∑–∞–Ω"
    const age = document.getElementById('age').value.trim() || '–Ω–µ —É–∫–∞–∑–∞–Ω'; // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å –≤–æ–∑—Ä–∞—Å—Ç–æ–º

    // –ï—Å–ª–∏ –∏–º—è –≤–≤–µ–¥–µ–Ω–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), —Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ cookies
    if (name) {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º cookie —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        document.cookie = `name=${encodeURIComponent(name)}; path=/`;
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º cookie —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º
        document.cookie = `phone=${encodeURIComponent(phone)}; path=/`;
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º cookie —Å –≤–æ–∑—Ä–∞—Å—Ç–æ–º
        document.cookie = `age=${encodeURIComponent(age)}; path=/`;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        updateGreeting();
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        showModal(`–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ, ${name}`);
    }
}

function getCookie(name) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è cookie –ø–æ –∏–º–µ–Ω–∏
    const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
    // –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ cookie (–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)
    return match ? decodeURIComponent(match[2]) : null;
}

function updateGreeting() {
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ cookie (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    const name = getCookie('name') || '–≥–æ—Å—Ç—å';
    const phone = getCookie('phone') || '–Ω–µ —É–∫–∞–∑–∞–Ω';
    const age = getCookie('age') || '–Ω–µ —É–∫–∞–∑–∞–Ω';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    document.getElementById('greeting').innerText = `üëã –ü—Ä–∏–≤–µ—Ç, ${name}! –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}, –í–æ–∑—Ä–∞—Å—Ç: ${age}`;
}



// ====== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø (LOCALSTORAGE) ======

function login() {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ LocalStorage (–∑–Ω–∞—á–µ–Ω–∏–µ "true" –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞)
    localStorage.setItem('auth', 'true');
    // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å hidden, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    document.getElementById('adminPanel').classList.remove('hidden');
}

function logout() {
    // –£–¥–∞–ª—è–µ–º –∫–ª—é—á –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–∑ LocalStorage
    localStorage.removeItem('auth');
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å hidden, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    document.getElementById('adminPanel').classList.add('hidden');
}


// ====== –ù–ê–°–¢–†–û–ô–ö–ò –¢–ï–ö–°–¢–ê ======

function saveTextSettings() {
    // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
    const text = document.getElementById('textInput').value;
    const fontSize = document.getElementById('fontSize').value;
    const fontColor = document.getElementById('fontColor').value;
    const fontStyle = document.getElementById('fontStyle').value;

    // –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç, –∫—É–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Ç–µ–∫—Å—Ç
    const output = document.getElementById('outputText');
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∏ –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    output.innerText = text;
    output.style.fontSize = `${fontSize}px`; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
    output.style.color = fontColor; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
    output.style.fontStyle = fontStyle; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∏–ª—å —Ç–µ–∫—Å—Ç–∞ (–∫—É—Ä—Å–∏–≤, –∂–∏—Ä–Ω—ã–π –∏–ª–∏ –æ–±—ã—á–Ω—ã–π)
}


// ====== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ======

let modalTimeout; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

function showModal(message) {
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω—ë–º
    const modal = document.getElementById('modal');
    const modalMessage = document.getElementById('modalMessage');

    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
    clearTimeout(modalTimeout);

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
    modalMessage.innerText = message;
    // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å hidden, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–∫–Ω–æ
    modal.classList.remove('hidden');

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    modalTimeout = setTimeout(() => {
        closeModal();
    }, 3000);
}

function closeModal() {
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    const modal = document.getElementById('modal');
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å hidden, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
    modal.classList.add('hidden');
    // –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
    clearTimeout(modalTimeout);
}


// ====== –û–ë–†–ê–ë–û–¢–ß–ò–ö –°–û–ë–´–¢–ò–ô –î–õ–Ø –ó–ê–ö–†–´–¢–ò–Ø –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê ======

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —Ñ–æ–Ω—É
document.getElementById('modal').addEventListener('click', closeModal);

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –æ–∫–Ω–∞
document.querySelector('.modal-content').addEventListener('click', (event) => {
    event.stopPropagation(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –æ–∫–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–ª–æ—Å—å
});
