// ========================================================================================================
// Урок от 14 марта 2025. Домашняя работа.
// ========================================================================================================

// ========================================================================================================
// Курс: Разработка интерфейса на JavaScript.
// ========================================================================================================

// ========================================================================================================
// Дисциплина: Основы  JavaScript.
// ========================================================================================================

// ========================================================================================================
// Домашнее задание №20: Сохранение данных в браузере. Куки. Локальное хранилище.
// ========================================================================================================

// ========================================================================================================
// Решите данные задачи:
// --------------------------------------------------------------------------------------------------------
// 1. Реализуйте небольшой сайт на HTML и CSS. 
// В шапке сайта должна быть кнопка темного режима. 
// Напишите функцию, которая проверяет установлен ли на сайте 
// темный режим (темный фон и белый шрифт) или нет.
// ========================================================================================================










// ========================================================================================================
// Урок от 14 марта 2025. Домашняя работа.
// ========================================================================================================

// ========================================================================================================
// Курс: Разработка интерфейса на JavaScript.
// ========================================================================================================

// ========================================================================================================
// Дисциплина: Основы  JavaScript.
// ========================================================================================================

// ========================================================================================================
// Домашнее задание №20: Сохранение данных в браузере. Куки. Локальное хранилище.
// ========================================================================================================

// ========================================================================================================
// Решите данные задачи:
// --------------------------------------------------------------------------------------------------------
// 1. Реализуйте небольшой сайт на HTML и CSS. 
// В шапке сайта должна быть кнопка темного режима. 
// Напишите функцию, которая проверяет установлен ли на сайте 
// темный режим (темный фон и белый шрифт) или нет.
// ========================================================================================================


// =========================
// ПОЛУЧАЕМ КНОПКУ ПЕРЕКЛЮЧЕНИЯ ТЕМЫ ПО ID
// =========================
// Метод `getElementById` возвращает элемент по его id.
// В данном случае мы ищем элемент с id="toggle-theme".
const toggleThemeButton = document.getElementById('toggle-theme');


// =========================
// ПРОВЕРЯЕМ СОСТОЯНИЕ ТЕМЫ ПРИ ЗАГРУЗКЕ СТРАНИЦЫ
// =========================
// Метод `localStorage.getItem()` позволяет получить значение из localStorage по ключу.
// Если значение для ключа 'theme' = 'dark', то включаем тёмный режим.
if (localStorage.getItem('theme') === 'dark') {
    // Добавляем класс 'dark-mode' к элементу body, чтобы активировать тёмную тему.
    document.body.classList.add('dark-mode');
}


// =========================
// ПЕРЕКЛЮЧАТЕЛЬ ТЕМЫ (СОБЫТИЕ НА КЛИК ПО КНОПКЕ)
// =========================
// `addEventListener()` добавляет обработчик события на элемент.
// В данном случае мы добавляем событие 'click' для кнопки.
toggleThemeButton.addEventListener('click', () => {
    
    // Метод `classList.toggle()` переключает наличие класса:
    // - Если класс есть — удаляет его.
    // - Если класса нет — добавляет его.
    document.body.classList.toggle('dark-mode');

    // =========================
    // СОХРАНЯЕМ СОСТОЯНИЕ В localStorage
    // =========================
    // Проверяем, содержит ли body класс 'dark-mode' после переключения.
    if (document.body.classList.contains('dark-mode')) {
        // Если содержит — сохраняем в localStorage значение 'dark'
        localStorage.setItem('theme', 'dark');
    } else {
        // Если не содержит — сохраняем в localStorage значение 'light'
        localStorage.setItem('theme', 'light');
    }
});

